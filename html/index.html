<html>
<head>
    <!-- meta http-equiv='refresh' content='5'/-->
    <meta name="mobile-web-app-capable" content="yes">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    <title>IR Train</title>
    <script>
    function execcmd(cmd) {
        var addressElements = document.getElementsByName('tab-group-address');
        var selectedAddress;

        for(var i = 0; i < addressElements.length; i++) {
            if(addressElements[i].checked)
                selectedAddress = addressElements[i].value;
        }

        fetch('/cmd/' + selectedAddress + '/' + cmd);
    }
    function requestFullScreen() {
        const _element = document.documentElement;
        if (_element.requestFullscreen) {
           _element.requestFullscreen();
        } else {
        if (_element.mozRequestFullScreen) {
           _element.mozRequestFullScreen();
        } else {
           if (_element.webkitRequestFullscreen) {
              _element.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
           }
        }
      }
    }
    var tapedTwice = false;

    function tapHandler(event) {
        if(!tapedTwice) {
            tapedTwice = true;
            setTimeout( function() { tapedTwice = false; }, 300 );
            return false;
        }
        event.preventDefault();
    }

    function blockMove() {
          event.preventDefault() ;
    }
    window.setTimeout(function() {
        requestFullScreen();
    },1000);
    window.setInterval(function() {
        fetch('/cmd/keepalive');
    },5000);
    fetch('/cmd/keepalive');
    requestFullScreen();
    </script>
    <style>
    
    body {
        background-color: #000000;
        font-family: Arial, Helvetica, Sans-Serif;
        Color: #000088;
        background-image: url(steinplatte.jpg);
    }
    
    td {
        background-color: #ccccff;
    }    
    button {
        width: 15%;
        height: 10%;
        box-sizing: border-box;
        margin: 0.5rem auto;
        padding: 0.75rem;
        font-size: 0.75rem;
        text-align: center;
        text-transform: uppercase;
        color: #1189DC;
        border: 2px solid #aaaaaa;
        background: #666666;
        border-radius: 0.5rem;
        outline: none;
        user-select: none;
        cursor: pointer;
    }
    button:active {
        transform: translateY(0.125rem);
        background:#444444;
    }
    .tab {
        width:25%;
        height:100%;
        float: left;
        cursor: pointer;
    }
    .tab label {
        background: #666666; 
        padding: 20px; 
        border: 2px solid #aaaaaa; 
        margin-left: -1px; 
        position: relative;
        left: 1px; 
        border-radius: 0.1rem;
        cursor: pointer;
    }
    .tab [type=radio] {
        display: none;   
        cursor: pointer;
    }
    [type=radio]:checked ~ label {
        background:  #1189DC;
        z-index: 2;
        cursor: pointer;
    }
    [type=radio]:checked ~ label ~ .content {
        z-index: 1;
        cursor: pointer;
    }
    .mdi-icon {
        width:24px;height:24px;color: #1189DC;
    }
    .main {
        position: absolute; 
        bottom: 0px; 
        width:95%
    }
    </style>
</head>
<body ontouchmove="blockMove()" ontouchstart="tapHandler">
        <div style="height:25%; background-image: url(irtrain.png); background-repeat: no-repeat;
        background-size: contain;" ></div>
        <div class=main>
        <center>
            <p>
            <div style="height:10%; margin:0 auto; width:210px">
                <div class="tab">
                    <input type="radio" id="A" value="A" name="tab-group-address">
                    <label style="border-radius: 0.5em 0.1em 0.1em 0.5em" for="A">A</label>
                </div>
                <div class="tab">
                    <input type="radio" id="B" value="B" name="tab-group-address">
                    <label for="B">B</label>
                </div>
                <div class="tab">
                    <input type="radio" id="C" value="C" name="tab-group-address" checked>
                    <label for="C">C</label>
                </div>
                <div class="tab">
                    <input type="radio" id="D" value="D" name="tab-group-address">
                    <label for="D" style="border-radius: 0.1em 0.5em 0.5em 0.1em">D</label>
                </div>
            </div>
            </p>
            <br>
            <p>
                <button onclick="execcmd('light')" style="width:24%">
                    <svg class=mdi-icon viewBox="0 0 24 24">
                        <path fill="currentColor" d="M13,4.8C9,4.8 9,19.2 13,19.2C17,19.2 22,16.5 22,12C22,7.5 17,4.8 13,4.8M13.1,17.2C12.7,16.8 12,15 12,12C12,9 12.7,7.2 13.1,6.8C16,6.9 20,8.7 20,12C20,15.3 16,17.1 13.1,17.2M2,5H9.5C9.3,5.4 9,5.8 8.9,6.4C8.8,6.6 8.8,6.8 8.7,7H2V5M8,11H2V9H8.2C8.1,9.6 8.1,10.3 8,11M8.7,17C8.9,17.8 9.2,18.4 9.6,19H2.1V17H8.7M8.2,15H2V13H8C8.1,13.7 8.1,14.4 8.2,15Z" />
                    </svg>
                </button>
                <button onclick="execcmd('sound/1')" style="width:24%">
                    <svg class=mdi-icon viewBox="0 0 24 24">
                        <path fill="currentColor" d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z" />
                    </svg>
                </button>
                <button onclick="execcmd('sound/2')" style="width:24%">
                    <svg class=mdi-icon viewBox="0 0 24 24">
                        <path fill="currentColor" d="M21,6C21,11 12,11 12,11C12,11 6,11 5,11C4,11 3,10 3,10H2V14H3C3,14 4,13 5,13C5.2,13 5.7,13 6.3,13C5.5,13.5 5,14.2 5,15C5,16.8 7.3,18 10.5,18C13.7,18 16,16.8 16,15C16,14.4 15.7,13.8 15.2,13.3C17.8,13.8 21,15 21,18H22V6H21M10.5,16.7C8.2,16.7 6.4,15.9 6.4,15C6.4,14.1 8.2,13.3 10.5,13.3C12.8,13.3 14.6,14.1 14.6,15C14.6,15.9 12.8,16.7 10.5,16.7Z" />
                    </svg>
                </button>
                <button onclick="execcmd('sound/3')" style="width:24%">
                    <svg class=mdi-icon viewBox="0 0 24 24">
                        <path fill="currentColor" d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z" />
                    </svg>
                </button>
            </p>
            <p>
                <button onclick="execcmd('speed/-3')">
                    <svg class=mdi-icon viewBox="0 0 24 24">
                        <path fill="currentColor" d="M18,14.17L15.83,12L18,9.83V14.17M20,19V5L13,12M4,19H6V5H4M11,14.17L8.83,12L11,9.83V14.17M13,19V5L6,12" />
                    </svg>
                </button>
                <button onclick="execcmd('speed/-2')">
                    <svg class=mdi-icon viewBox="0 0 24 24">
                        <path fill="currentColor" d="M10,9.9L7,12L10,14.1V9.9M19,9.9L16,12L19,14.1V9.9M12,6V18L3.5,12L12,6M21,6V18L12.5,12L21,6Z" />
                    </svg>
                </button>
                <button onclick="execcmd('speed/-1')">
                    <svg class=mdi-icon viewBox="0 0 24 24">
                        <path fill="currentColor" d="M15,18H13.5L7.5,12L13.5,6H15V18M10.33,12L13,14.67V9.33L10.33,12Z" />
                    </svg>
                </button>
                <button onclick="execcmd('speed/1')">
                    <svg class=mdi-icon viewBox="0 0 24 24">
                        <path fill="currentColor" d="M9,6H10.5L16.5,12L10.5,18H9V6M13.67,12L11,9.33V14.67L13.67,12Z" />
                    </svg>
                </button>
                <button onclick="execcmd('speed/2')">
                    <svg class=mdi-icon viewBox="0 0 24 24">
                        <path fill="currentColor" d="M15,9.9L18,12L15,14.1V9.9M6,9.9L9,12L6,14.1V9.9M13,6V18L21.5,12L13,6M4,6V18L12.5,12L4,6Z" />
                    </svg>
                </button>
                <button onclick="execcmd('speed/3')">
                    <svg class=mdi-icon viewBox="0 0 24 24">
                        <path fill="currentColor" d="M6,9.83L8.17,12L6,14.17V9.83M4,5V19L11,12M20,5H18V19H20M13,9.83L15.17,12L13,14.17V9.83M11,5V19L18,12" />
                    </svg>
                </button>
            </p>
            <p> 
                <button onclick="execcmd('speed/0')" style="width:50%">
                    <svg class=mdi-icon viewBox="0 0 24 24">
                        <path fill="currentColor" d="M18,18H6V6H18V18Z" />
                    </svg>
                </button>
            </p>
        </center>
    </div>
</body>
</html>

